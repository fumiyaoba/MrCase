<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}MrCase{% endblock %} | MrCase</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
      background: #f4f6f9;
      color: #333;
      min-height: 100vh;
    }

    /* „Éä„Éì„Éê„Éº */
    nav {
      background: #1e293b;
      color: #e2e8f0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 2rem;
      height: 56px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,.3);
    }
    nav .brand {
      font-size: 1.2rem;
      font-weight: 700;
      letter-spacing: .04em;
      color: #f8fafc;
      text-decoration: none;
    }
    nav .nav-links {
      display: flex;
      gap: 1.5rem;
      align-items: center;
      list-style: none;
    }
    nav .nav-links a {
      color: #94a3b8;
      text-decoration: none;
      font-size: .9rem;
      transition: color .15s;
    }
    nav .nav-links a:hover { color: #f8fafc; }
    nav .nav-links .badge {
      background: #3b82f6;
      color: #fff;
      font-size: .7rem;
      padding: 1px 6px;
      border-radius: 99px;
      margin-left: 4px;
    }

    /* „É≠„Ç∞„Ç¢„Ç¶„Éà„Éú„Çø„É≥ */
    .btn-logout {
      background: transparent;
      border: 1px solid #475569;
      color: #94a3b8;
      padding: 4px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: .85rem;
      transition: all .15s;
    }
    .btn-logout:hover { border-color: #94a3b8; color: #f8fafc; }

    /* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
    main {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }

    /* „Ç´„Éº„Éâ */
    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,.08);
      padding: 2rem;
      margin-bottom: 1.5rem;
    }
    .card-title {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      color: #1e293b;
      border-bottom: 2px solid #e2e8f0;
      padding-bottom: .6rem;
    }

    /* „ÉÜ„Éº„Éñ„É´ */
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: .65rem 1rem; text-align: left; font-size: .9rem; }
    th { background: #f1f5f9; color: #475569; font-weight: 600; }
    tr:hover td { background: #f8fafc; }
    td { border-bottom: 1px solid #e2e8f0; }

    /* „Éú„Çø„É≥ */
    .btn {
      display: inline-block;
      padding: 8px 18px;
      border-radius: 8px;
      font-size: .88rem;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      border: none;
      transition: opacity .15s;
    }
    .btn:hover { opacity: .85; }
    .btn-primary { background: #3b82f6; color: #fff; }
    .btn-secondary { background: #64748b; color: #fff; }
    .btn-success { background: #22c55e; color: #fff; }
    .btn-danger { background: #ef4444; color: #fff; }
    .btn-sm { padding: 4px 12px; font-size: .8rem; }

    /* „Éï„Ç©„Éº„É† */
    .form-group { margin-bottom: 1.2rem; }
    .form-group label { display: block; font-size: .88rem; font-weight: 600; margin-bottom: 4px; color: #475569; }
    .form-group input[type=text],
    .form-group input[type=password],
    .form-group textarea,
    .form-group select {
      width: 100%;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: .9rem;
      transition: border-color .15s;
    }
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59,130,246,.15);
    }
    .form-check { display: flex; align-items: center; gap: 8px; }
    .form-check input { width: 16px; height: 16px; }

    /* „Ç¢„É©„Éº„Éà */
    .alert { padding: .75rem 1.25rem; border-radius: 8px; margin-bottom: 1rem; font-size: .9rem; }
    .alert-success { background: #dcfce7; color: #166534; }
    .alert-danger  { background: #fee2e2; color: #991b1b; }

    /* „Éê„ÉÉ„Ç∏ */
    .tag { display: inline-block; padding: 2px 10px; border-radius: 99px; font-size: .78rem; font-weight: 600; }
    .tag-active   { background: #dcfce7; color: #166534; }
    .tag-inactive { background: #f1f5f9; color: #64748b; }
    .tag-admin    { background: #dbeafe; color: #1d4ed8; }

    /* „Éï„Ç£„É´„ÇøË°å */
    .filter-bar { display: flex; gap: .75rem; align-items: flex-end; flex-wrap: wrap; margin-bottom: 1.2rem; }
    .filter-bar .form-group { margin-bottom: 0; }
    .filter-bar select, .filter-bar input { min-width: 100px; }

    /* „Éö„Éº„Ç∏„Çø„Ç§„Éà„É´Ë°å */
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
    .page-header h1 { font-size: 1.4rem; font-weight: 700; color: #1e293b; }
  </style>
</head>
<body>

<nav>
  <a class="brand" href="{% url 'menu' %}">üìÅ MrCase</a>
  {% if user.is_authenticated %}
  <ul class="nav-links">
    <li><a href="{% url 'case_list' %}">Ê°à‰ª∂‰∏ÄË¶ß</a></li>
    {% if user.is_staff or user.is_superuser %}
    <li><a href="{% url 'case_create' %}">Ôºã Ê°à‰ª∂ÁôªÈå≤<span class="badge">ÁÆ°ÁêÜËÄÖ</span></a></li>
    {% endif %}
    <li><a href="{% url 'manhour_list' %}">Â∑•Êï∞‰∏ÄË¶ß</a></li>
    <li>
      <form method="post" action="{% url 'logout' %}" style="margin:0">
        {% csrf_token %}
        <button class="btn-logout" type="submit">{{ user.username }} Ôºè „É≠„Ç∞„Ç¢„Ç¶„Éà</button>
      </form>
    </li>
  </ul>
  {% endif %}
</nav>

<main>
  {% for message in messages %}
  <div class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %}">
    {{ message }}
  </div>
  {% endfor %}

  {% block content %}{% endblock %}
</main>

</body>
</html>
